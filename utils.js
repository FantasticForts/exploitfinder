alert('!!! WARNING !!!\nThis website is used for any ethical purposes, do not use this website illegaly');
(async () => {
    const res = await fetch("https://docs.metasploit.com/docs/modules.html"),
        data = await res.text();
    
    const doc = new DOMParser().parseFromString(data, "text/html");
    const list = Array.from(doc.querySelectorAll("a")).map(a => a.textContent).filter(t => t.startsWith("exploit/"));

    document.getElementById('test').addEventListener('click', () => {
        const os = document.querySelector("#os").value;
        const name = document.querySelector(".name").value;
        const matching = list.filter(item => item.startsWith(`exploit/${os}/${name}/`));
        const ul = document.querySelector("ul.list");
        ul.replaceChildren(...matching.map(item => {
            const li = document.createElement("li");
            li.textContent = item;
            return li;
        }));
    });
})();